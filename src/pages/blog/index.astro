---
export const prerender = false;
import Layout from "../../layouts/Layout.astro";
import { Image } from "astro:assets";

let res = await fetch(
  `${import.meta.env.BLOG_SITE}/wp-json/wp/v2/posts?_fields=title,slug,date,content,_links&_embed`
);
let posts = await res.json();
---

<Layout title="Orlando Transportatation Book Luxury Vechicle">
  <div class="container mx-auto md:lg:xl:px-20 mb-4">
    <h2 class="text-5xl font-extrabold text-center mb-4 pb-2 pt-5">Blog</h2>

    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
  {
    posts.map((post, index) => (
    <div class="group relative p-6 sm:p-8 rounded-3xl bg-white border border-gray-100 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
      <div class="relative overflow-hidden rounded-xl">
        <a href={`/blog/${post.slug}`} >
            <img  src={
                post._embedded["wp:featuredmedia"][index].media_details.sizes
                  .full.source_url
              } alt="art cover" loading="lazy" width="1000" height="667" class="h-64 w-full object-cover object-top transition duration-500 group-hover:scale-105">
        </a>
      </div>
          <div class="mt-6">
            <a href={`/blog/${post.slug}`}>
            <h2 class=" text-2xl font-bold tracking-tight text-gray-900 dark:text-white">
              {post.title.rendered}
            </h2>
          </a>
          <p class="text-sm text-gray-500 mb-2">
            <time>
              {new Date(post.date).toLocaleDateString("en-US", {
                dateStyle: "full",
              })}
            </time>
          </p>
          <div class="bg-[#F6F6F7] px-3 right-3 absolute top-4 z-20 rounded-[10px] leading-4 text-center flex justify-center align-center py-[5px]">
                                    <p class="text-[#00153B] text-[12px] font-bold">
                                        <b>Author</b> {post._embedded["author"][index].name}
                                    </p>
                                </div>

          <Fragment set:html={post.content.rendered} />

          <a href={`/blog/${post.slug}`} class="text-center mt-4 block p-1 rounded-full from-rose-400 via-fuchsia-500 to-indigo-500 bg-gradient-to-r">
            <span class="block text-black px-4 py-1 font-semibold rounded-full bg-white hover:bg-transparent hover:text-white transition">Read more</span>
          </a>

          </div>
          
        </div>


    ))
  }
  </div>
  </div>
</Layout>
